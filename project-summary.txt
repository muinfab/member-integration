




- 통합 회원
    - 현재 웹 회원, 리워즈 회원을 각각 관리하고 있으며 웹 회원은 리워즈 가입을 유도하여 리워즈 회원으로 점진적으로 전환하는게 이번 프로젝트의 목적임.
    - 리워즈 미 가입자는 리워즈 회원으로의 전환을 위해 별도의 리워즈 가입 절차가 진행됨.
        - 1. 리워즈 회원으로 전환 진행 (필수)
            - 약관 동의 및 회원가입 진행하면 리워즈 회원으로 전환이 완료 됨.
        - 2. 더 파르나스 멤버십 가입 진행 (선택)
            - 멤버십 유형을 선택하고 결제가 이루어지면 가입이 완료됨
        - 통합계정 생성 진행
            - 통합 아이디 및 패스워드 입력 (정확하지는 않음)
    - 리워즈 기 가입자는 회원정보 통합을 위해 통합 계정을 생성하는 절차가 진행됨.
        - 통합 아이디 선택 (웹 회원 아이디 또는 리워즈 아이디 중 하나 선택)
        - 통합 패스워드 설정 (별도의 패스워드 설정)
- 처리 흐름
    - 기본 정보
        - 회원은 웹 회원(W), 리워즈 회원(R), 통합회원(U)이 있음
            - 웹 회원(W)의 아이디는 이메일 형식
            - 리워즈 회원(R)의 아이디는 일반 아이디 형식
            - 통합회원(U)의 아이디는 웹 회원 아이디 또는 리워즈 회원 아이디 둘 중 하나 존재
    - 로그인 (MI-REWARDS-001)
        - 모든 유형의 회원은 로그인 가능함
            - 어떤 유형의 회원인지 판단함
                - 웹 회원
                    - 요청 아이디가 이메일 형식
                - 통합 회원
                    - 통합회원 테이블 조회 후 ‘회원 유형(U)’ 확인
                - 리워즈 회원
                    - 통합회원 테이브 조회 후 ‘회원 유형(R)’ 확인
                    - 또는 통합회원 테이블에 없으면 리워즈회원 테이블에서 확인
            - 웹 회원이 로그인 한 경우
                - 리워즈 가입 여부를 확인 함
                    - 리워즈회원 테이블을 조회해서 확인 함
                - 리워즈 기 가입자면 계정 통합을 진행 함
                    - 응답값으로 ‘통합 유형’에 ‘통합대상(U)’으로 전달
                - 리워즈 미 가입자이면 리워즈 가입으로 전환 유도
                    - 응답값으로 ‘통합 유형’에 ‘전환대상(N)’으로 전달
            - 리워즈 회원이 로그인 한 경우
                - 통합회원 테이블에 회원 정보가 없는 경우
                    - 리워즈회원 테이블에서 조회 후 통합회원 테이블로 추가 삽입
    - 회원통합 등록 (MI-REWARDS-002)
        - 통합 대상자가 통합 절차를 완료 한 후 요청
            - 약관 동의
            - 통합 아이디 선택 및 통합 패스워드 설정
            - 통합회원 테이블에 통합 정보를 업데이트
    - 신규 회원 가입/전환 및 더 파르나스 멤버십 가입 
        - 신규 회원 가입 요청 또는 전환 대상자가 전환 절차를 완료 한 후 요청 (MI-REWARDS-006)
            - 약관 정보 요청 (MI-REWARDS-003)
            - 약관 동의
            - 리워즈 회원 가입 
            - 통합회원 테이블에 회원 정보 삽입(신규) 또는 업데이트 (전환 대상자)
        - 더 파르나스 멤버십 가입 시 요청 (선택) (MI-REWARDS-023)
            - 신규 회원이 더 파르나스 멤버십 가입 시
                - 더 파르나스 서버(CMS)로 동기화 요청 (MI-REWARDS-014)
            - 기존 회원이 더 파르나스 멤버십 추가 가입(갱신) 시
                - 더 파르나스 서버(CMS)로 동기화 요청 (MI-REWARDS-017)
    - 회원 정보 수정
        - 회원 정보 수정 요청 (MI-REWARDS-008)
            - 회원 정보가 수정되면 더 파르나스 서버(CMS), CRS 서버와 동기화 필요
                - 회원 정보 동기화 요청 (MI-REWARDS-015)
                - 회원 정보 동기화 요청 (MI-REWARDS-018)
    - 회원 비밀번호 찾기
        - 임시 비밀번호를 회원 이메일로 발송
    - 더 파르나스 서버(CMS)에서의 회원 정보 수정
        - 더 파르나스 서버에서 회원 정보가 수정되면 통합회원 서버로 동기화 요청 (MI-REWARDS-016)
            - 통합회원 테이블에서 아래의 조건으로 회원을 조회
                - cmsProfileId로 확인
                - 없으면 keyMemberName, keyMemberMobile로 검색  





